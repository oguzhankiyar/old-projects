@model MyPasswordModel
@{int step = Convert.ToInt32(Request.QueryString["step"]);}

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

@if (step == 1)
{
    <div class="title">Şifremi Unuttum - 1. Adım</div>
    <div class="content">
        @using (Html.BeginForm("MyPasswordStep1", "Account", FormMethod.Post))
        {
            <div class="form">
                <ul>
                    <li>@Html.LabelFor(model => model.UserName)</li>
                    <li>@Html.EditorFor(model => model.UserName)<small>@Html.ValidationMessageFor(model => model.UserName)</small></li>
                </ul>
                <ul>
                    <li>@Html.LabelFor(model => model.Email)</li>
                    <li>@Html.EditorFor(model => model.Email)<small>@Html.ValidationMessageFor(model => model.Email)</small></li>
                </ul>
            </div>
        }
    </div>
}
else if (step == 2)
{
    int userid = Convert.ToInt32(Request.QueryString["userid"]);
    <div class="title">Şifremi Unuttum - 2. Adım</div>
    <div class="content">
        @using (Html.BeginForm("MyPasswordStep2", "Account", FormMethod.Post))
        {
            <div class="form">
                <ul>
                    <li>İşleme devam edebilmeniz için email adresinize gönderdiğimiz onay kodunu girmeniz gerekiyor..</li>
                </ul>
                <ul>
                    <li>@Html.LabelFor(model => model.ConfirmationCode)</li>
                    <li>@Html.EditorFor(model => model.ConfirmationCode)<small>@Html.ValidationMessageFor(model => model.ConfirmationCode)</small></li>
                </ul>
                @Html.Hidden("Id", userid)
            </div>
        }
    </div>
}
else if (step == 3)
{
    int userid = Convert.ToInt32(Request.QueryString["userid"]);
    <div class="title">Şifremi Unuttum - 3. Adım</div>
    <div class="content">
        @using (Html.BeginForm("MyPasswordStep3", "Account", FormMethod.Post))
        {
            <div class="form">
                <ul>
                    <li>@Html.LabelFor(model => model.NewPassword)</li>
                    <li>@Html.EditorFor(model => model.NewPassword)<small>@Html.ValidationMessageFor(model => model.NewPassword)</small></li>
                </ul>
                <ul>
                    <li>@Html.LabelFor(model => model.ConfirmNewPassword)</li>
                    <li>@Html.EditorFor(model => model.ConfirmNewPassword)<i>@Html.ValidationMessageFor(model => model.ConfirmNewPassword)</i></li>
                </ul>
                @Html.Hidden("Id", userid)
            </div>
        }
    </div>
}